<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Triangle2</title>
<link rev="made" href="mailto:" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#triangle2">Triangle2</a></li>
	<ul>

		<li><a href="#synopsis">Synopsis</a></li>
		<li><a href="#description">Description</a></li>
		<li><a href="#constructors">Constructors</a></li>
		<ul>

			<li><a href="#new">new</a></li>
			<li><a href="#triangle2">triangle2</a></li>
			<li><a href="#newnnc">newnnc</a></li>
			<li><a href="#newv">newV</a></li>
			<li><a href="#newvnnc">newVnnc</a></li>
		</ul>

		<li><a href="#methods">Methods</a></li>
		<ul>

			<li><a href="#accuracy">accuracy</a></li>
			<li><a href="#narrow">narrow</a></li>
			<li><a href="#check">check</a></li>
			<li><a href="#is">is</a></li>
			<li><a href="#components">components</a></li>
			<li><a href="#clone">clone</a></li>
			<li><a href="#permute">permute</a></li>
			<li><a href="#center">center</a></li>
			<li><a href="#area">area</a></li>
			<li><a href="#add">add</a></li>
			<li><a href="#subtract">subtract</a></li>
			<li><a href="#multiply">multiply</a></li>
			<li><a href="#divideby">divideBy</a></li>
			<li><a href="#print">print</a></li>
			<li><a href="#convertspacetoplane">convertSpaceToPlane</a></li>
			<li><a href="#containspoint">containsPoint</a></li>
			<li><a href="#contains">contains</a></li>
			<li><a href="#pointsincommon">pointsInCommon</a></li>
			<li><a href="#ring">ring</a></li>
			<li><a href="#convertplanetospace">convertPlaneToSpace</a></li>
			<li><a href="#split">split</a></li>
			<li><a href="#equals">equals</a></li>
			<li><a href="#operators">Operators</a></li>
			<li><a href="#add">add</a></li>
			<li><a href="#subtract">subtract</a></li>
			<li><a href="#multiply">multiply</a></li>
			<li><a href="#divide">divide</a></li>
			<li><a href="#equals">equals</a></li>
			<li><a href="#print">print</a></li>
		</ul>

		<li><a href="#exports">Exports</a></li>
		<li><a href="#credits">Credits</a></li>
		<ul>

			<li><a href="#author">Author</a></li>
			<li><a href="#copyright">Copyright</a></li>
			<li><a href="#license">License</a></li>
		</ul>

	</ul>

</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="triangle2">Triangle2</a></h1>
<p>Triangles in 2D space</p>
<p><a href="mailto:PhilipRBrenan@yahoo.com,">PhilipRBrenan@yahoo.com,</a> 2004, Perl License</p>
<p>
</p>
<h2><a name="synopsis">Synopsis</a></h2>
<p>Example t/triangle2.t</p>
<pre>
 #_ Triangle ___________________________________________________________
 # Test 2d triangles    
 # philiprbrenan@yahoo.com, 2004, Perl License    
 #______________________________________________________________________
 
 use Math::Zap::Triangle2;
 use Math::Zap::Vector2;
 use Test::Simple tests=&gt;27;
  
 $a = triangle2
  (vector2(0, 0), 
   vector2(2, 0), 
   vector2(0, 2),
  );
  
 $b = triangle2
  (vector2( 0,  0), 
   vector2( 4,  0), 
   vector2( 0,  4),
  );
  
 $c = triangle2
  (vector2( 0,  0), 
   vector2(-4,  0), 
   vector2( 0, -4),
  );
  
 $d = $b - vector2(1,1);
 $e = $c + vector2(1,1);
 
 #print &quot;a=$a\nb=$b\nc=$c\nd=$d\ne=$e\n&quot;;
 
 ok($a-&gt;containsPoint(vector2( 1,  1)));
 ok($a-&gt;containsPoint(vector2( 1,  1)));
 ok($b-&gt;containsPoint(vector2( 2,  0)));
 ok($b-&gt;containsPoint(vector2( 1,  0)));
 ok($c-&gt;containsPoint(vector2(-1,  0)));
 ok($c-&gt;containsPoint(vector2(-2,  0)));
 ok($d-&gt;containsPoint(vector2( 1, -1)));
 
 ok(!$a-&gt;containsPoint(vector2( 9,  1)));
 ok(!$a-&gt;containsPoint(vector2( 1,  9)));
 ok(!$b-&gt;containsPoint(vector2( 2,  9)));
 ok(!$b-&gt;containsPoint(vector2( 9,  0)));
 ok(!$c-&gt;containsPoint(vector2(-9,  0)));
 ok(!$c-&gt;containsPoint(vector2(-2,  9)));
 ok(!$d-&gt;containsPoint(vector2( 9, -1)));
 
 ok( $a-&gt;containsPoint(vector2(0.5, 0.5)));
 ok(!$a-&gt;containsPoint(vector2( -1,  -1)));
 
 ok(vector2(1,2)-&gt;rightAngle == vector2(-2, 1));
 ok(vector2(1,0)-&gt;rightAngle == vector2( 0, 1));
 
 ok($a-&gt;area == 2);
 ok($c-&gt;area == 8);
 
 eval { triangle2(vector2(0, 0), vector2(3, -6), vector2(-3, 6))};
 ok($@ =~ /^Narrow triangle2/, 'Narrow triangle');
 
 $t = triangle2(vector2(0,0),vector2(0,10),vector2( 10,0));
 $T = triangle2(vector2(0,0),vector2(0,10),vector2(-10,10))+vector2(5, -2);
 @p = $t-&gt;ring($T);
 #print &quot;$_\n&quot; for(@p);
 ok($p[0] == vector2(0, 8), 'Ring 0');
 ok($p[1] == vector2(2, 8), 'Ring 1');
 ok($p[2] == vector2(5, 5), 'Ring 2');
 ok($p[3] == vector2(5, 0), 'Ring 3');
 ok($p[4] == vector2(3, 0), 'Ring 4');
 ok($p[5] == vector2(0, 3), 'Ring 5');</pre>
<p>
</p>
<h2><a name="description">Description</a></h2>
<p>Triangles in 2d space</p>
<pre>
 
 package Math::Zap::Triangle2;
 $VERSION=1.03;
 use Math::Zap::Line2;
 use Math::Zap::Matrix2 new2v=&gt;'matrix2New2v';
 use Math::Zap::Vector2 check=&gt;'vector2Check';
 use Math::Zap::Vector  check=&gt;'vectorCheck';
 use Math::Trig;            
 use Carp qw(cluck confess);
 use constant debug =&gt; 0; # Debugging level</pre>
<p>
</p>
<h2><a name="constructors">Constructors</a></h2>
<p>
</p>
<h3><a name="new">new</a></h3>
<p>Create a triangle from 3 vectors specifying the coordinates of each
corner in space coordinates.</p>
<pre>
 
 sub new($$$)
  {vector2Check(@_) if debug;
   my $t = bless {a=&gt;$_[0], b=&gt;$_[1], c=&gt;$_[2]};
   narrow($t, 1);      
   $t;
  }</pre>
<p>
</p>
<h3><a name="triangle2">triangle2</a></h3>
<p>Create a triangle from 3 vectors specifying the coordinates of each
corner in space coordinates - synonym for <a href="#new">new</a>.</p>
<pre>
 
 sub triangle2($$$) {new($_[0],$_[1],$_[2])};</pre>
<p>
</p>
<h3><a name="newnnc">newnnc</a></h3>
<p>New without narrowness check</p>
<pre>
 
 sub newnnc($$$)
  {vector2Check(@_) if debug;
   bless {a=&gt;$_[0], b=&gt;$_[1], c=&gt;$_[2]};
  }</pre>
<p>
</p>
<h3><a name="newv">newV</a></h3>
<p>Create a triangle from the x,y components of 3 3d vectors.</p>
<pre>
 
 sub newV($$$)
  {vectorCheck(@_) if debug;
   my $t = bless
    {a=&gt;vector2($_[0]-&gt;{x}, $_[0]-&gt;{y}),
     b=&gt;vector2($_[1]-&gt;{x}, $_[1]-&gt;{y}),
     c=&gt;vector2($_[2]-&gt;{x}, $_[2]-&gt;{y})};
   narrow($t, 1);      
   $t;
  }</pre>
<p>
</p>
<h3><a name="newvnnc">newVnnc</a></h3>
<p>Create a triangle from the x,y components of 3 3d vectors without
narrowness checking - assumes caller will do thir own.</p>
<pre>
 
 sub newVnnc($$$)
  {vectorCheck(@_) if debug;
   bless
    {a=&gt;vector2($_[0]-&gt;{x}, $_[0]-&gt;{y}),
     b=&gt;vector2($_[1]-&gt;{x}, $_[1]-&gt;{y}),
     c=&gt;vector2($_[2]-&gt;{x}, $_[2]-&gt;{y})};
  }</pre>
<p>
</p>
<h2><a name="methods">Methods</a></h2>
<p>
</p>
<h3><a name="accuracy">accuracy</a></h3>
<p>Get/Set accuracy for comparisons</p>
<pre>
 
 my $accuracy = 1e-10;
 
 sub accuracy
  {return $accuracy unless scalar(@_);
   $accuracy = shift();
  }</pre>
<p>
</p>
<h3><a name="narrow">narrow</a></h3>
<p>Narrow (colinear) colinear?</p>
<pre>
 
 sub narrow($$)
  {my $t = shift;  # Triangle
   my $a = 1e-2;   # Accuracy
   my $A = shift;  # Action 0: return indicator, 1: confess 
   my $b = vector($t-&gt;{b}{x}-$t-&gt;{a}{x}, $t-&gt;{b}{y}-$t-&gt;{a}{y}, 0);                                           
   my $c = vector($t-&gt;{c}{x}-$t-&gt;{a}{x}, $t-&gt;{c}{y}-$t-&gt;{a}{y}, 0);                                           
   my $n = ($b x $c)-&gt;length &lt; $a;
   confess &quot;Narrow triangle2&quot; if $n and $A;
   $n;      
  }</pre>
<p>
</p>
<h3><a name="check">check</a></h3>
<p>Check its a triangle</p>
<pre>
 
 sub check(@)
  {if (debug)
    {for my $t(@_)
      {confess &quot;$t is not a triangle2&quot; unless ref($t) eq __PACKAGE__;
      }
    }
   @_;
  }</pre>
<p>
</p>
<h3><a name="is">is</a></h3>
<p>Test its a triangle</p>
<pre>
 
 sub is(@)
  {for my $t(@_)
    {return 0 unless ref($t) eq __PACKAGE__;
    }
   'triangle2';
  }</pre>
<p>
</p>
<h3><a name="components">components</a></h3>
<p>Components of a triangle</p>
<pre>
 
 sub a($)   {check(@_) if debug; $_[0]-&gt;{a}}
 sub b($)   {check(@_) if debug; $_[0]-&gt;{b}}
 sub c($)   {check(@_) if debug; $_[0]-&gt;{c}}
 
 sub ab($)  {check(@_) if debug; ($_[0]-&gt;{b}-$_[0]-&gt;{a})}
 sub ac($)  {check(@_) if debug; ($_[0]-&gt;{c}-$_[0]-&gt;{a})}
 sub ba($)  {check(@_) if debug; ($_[0]-&gt;{a}-$_[0]-&gt;{b})}
 sub bc($)  {check(@_) if debug; ($_[0]-&gt;{c}-$_[0]-&gt;{b})}
 sub ca($)  {check(@_) if debug; ($_[0]-&gt;{a}-$_[0]-&gt;{c})}
 sub cb($)  {check(@_) if debug; ($_[0]-&gt;{b}-$_[0]-&gt;{c})}
 
 sub abc($) {check(@_) if debug; ($_[0]-&gt;{a}, $_[0]-&gt;{b}, $_[0]-&gt;{c})}
 
 sub lab($)  {check(@_) if debug; line2($_[0]-&gt;{b}, $_[0]-&gt;{a})}
 sub lac($)  {check(@_) if debug; line2($_[0]-&gt;{c}, $_[0]-&gt;{a})}
 sub lba($)  {check(@_) if debug; line2($_[0]-&gt;{a}, $_[0]-&gt;{b})}
 sub lbc($)  {check(@_) if debug; line2($_[0]-&gt;{c}, $_[0]-&gt;{b})}
 sub lca($)  {check(@_) if debug; line2($_[0]-&gt;{a}, $_[0]-&gt;{c})}
 sub lcb($)  {check(@_) if debug; line2($_[0]-&gt;{b}, $_[0]-&gt;{c})}</pre>
<p>
</p>
<h3><a name="clone">clone</a></h3>
<p>Create a triangle from another triangle</p>
<pre>
 
 sub clone($)
  {my ($t) = check(@_); # Triangle   
   bless {a=&gt;$t-&gt;a, b=&gt;$t-&gt;b, c=&gt;$t-&gt;c};
  }</pre>
<p>
</p>
<h3><a name="permute">permute</a></h3>
<p>Cyclically permute the points of a triangle</p>
<pre>
 
 sub permute($)
  {my ($t) = check(@_); # Triangle   
   bless {a=&gt;$t-&gt;b, b=&gt;$t-&gt;c, c=&gt;$t-&gt;a};
  }</pre>
<p>
</p>
<h3><a name="center">center</a></h3>
<p>Center</p>
<pre>
 
 sub center($)
  {my ($t) = check(@_); # Triangle   
   ($t-&gt;a + $t-&gt;b + $t-&gt;c) / 3;
  }</pre>
<p>
</p>
<h3><a name="area">area</a></h3>
<p>Area</p>
<pre>
 
 sub area($)
  {my ($t) = check(@_); # Triangle   
   sqrt((($t-&gt;ab*$t-&gt;ab) * ($t-&gt;ac*$t-&gt;ac)) - ($t-&gt;ab * $t-&gt;ac))/2;
  }</pre>
<p>
</p>
<h3><a name="add">add</a></h3>
<p>Add a vector to a triangle</p>
<pre>
 
 sub add($$)
  {my ($t) =          check(@_[0..0]); # Triangle   
   my ($v) = vector2Check(@_[1..1]); # Vector     
   new($t-&gt;a+$v, $t-&gt;b+$v, $t-&gt;c+$v);                         
  }</pre>
<p>
</p>
<h3><a name="subtract">subtract</a></h3>
<p>Subtract a vector from a triangle</p>
<pre>
 
 sub subtract($$)
  {my ($t) =          check(@_[0..0]); # Triangle   
   my ($v) = vector2Check(@_[1..1]); # Vector     
   new($t-&gt;a-$v, $t-&gt;b-$v, $t-&gt;c-$v);                         
  }</pre>
<p>
</p>
<h3><a name="multiply">multiply</a></h3>
<p>Multiply a triangle by a scalar</p>
<pre>
 
 sub multiply($$)
  {my ($t) = check(@_[0..0]); # Triangle   
   my ($s) =       @_[1..1] ; # Scalar     
   new($t-&gt;a * $s, $t-&gt;b * $s, $t-&gt;c * $s);                         
  }</pre>
<p>
</p>
<h3><a name="divideby">divideBy</a></h3>
<p>Divide a triangle by a scalar</p>
<pre>
 
 sub divideBy($$)
  {my ($t) = check(@_[0..0]); # Triangle   
   my ($s) =       @_[1..1] ; # Scalar
   $s != 0 or confess &quot;Attempt to divide by zero&quot;;    
   new($t-&gt;a / $s, $t-&gt;b / $s, $t-&gt;c / $s);                         
  }</pre>
<p>
</p>
<h3><a name="print">print</a></h3>
<p>Print triangle</p>
<pre>
 
 sub print($)
  {my ($t) = @_; # Triangle   
   check(@_) if debug;   
   my ($a, $b, $c) = ($t-&gt;a, $t-&gt;b, $t-&gt;c);
   &quot;triangle2($a, $b, $c)&quot;;
  }</pre>
<p>
</p>
<h3><a name="convertspacetoplane">convertSpaceToPlane</a></h3>
<p>Convert space to plane coordinates</p>
<pre>
 
 sub convertSpaceToPlane($$)
  {my ($t, $p) = @_;
            check(@_[0..0]) if debug; # Triangle  
   vector2Check(@_[1..1]) if debug; # Vector
    
   my $q = $p-$t-&gt;a;
 
   vector2
    ($q * $t-&gt;ab / ($t-&gt;ab * $t-&gt;ab),
     $q * $t-&gt;ac / ($t-&gt;ac * $t-&gt;ac),
    );
  }</pre>
<p>
</p>
<h3><a name="containspoint">containsPoint</a></h3>
<p>Check whether point p is completely contained within triangle t.</p>
<pre>
 
 sub containsPoint($$)
  {my ($t, $p) = @_;
            check(@_[0..0]) if debug; # Triangle  
   vector2Check(@_[1..1]) if debug; # Vector
 
   my $s = matrix2New2v($t-&gt;ab, $t-&gt;ac) / ($p - $t-&gt;a);
                  
   return 1 if 0 &lt;= $s-&gt;x and $s-&gt;x &lt;= 1
           and 0 &lt;= $s-&gt;y and $s-&gt;y &lt;= 1
           and        $s-&gt;x + $s-&gt;y &lt;= 1;
   0;
  }</pre>
<p>
</p>
<h3><a name="contains">contains</a></h3>
<p>Check whether triangle T is completely contained within triangle t.</p>
<pre>
 
 sub contains($$)
  {my ($t, $T) = @_; 
   check(@_) if debug; # Triangles
 
   return 1 if $t-&gt;containsPoint($T-&gt;a) and
               $t-&gt;containsPoint($T-&gt;b) and
               $t-&gt;containsPoint($T-&gt;c);   
   0;
  }</pre>
<p>
</p>
<h3><a name="pointsincommon">pointsInCommon</a></h3>
<p>Find points in common to two triangles.  A point in common is a point
on the border of one triangle touched by the border of the other
triangle.</p>
<pre>
 
 sub pointsInCommon($$)
  {my ($t, $T) = @_; 
   check(@_) if debug; # Triangles
 
   return ($T-&gt;a, $T-&gt;b, $T-&gt;c) if $t-&gt;contains($T);
   return ($t-&gt;a, $t-&gt;b, $t-&gt;c) if $T-&gt;contains($t);
 
   my @p = ();
   push @p, $t-&gt;a if $T-&gt;containsPoint($t-&gt;a);  
   push @p, $t-&gt;b if $T-&gt;containsPoint($t-&gt;b);  
   push @p, $t-&gt;c if $T-&gt;containsPoint($t-&gt;c);
 
   push @p, $T-&gt;a if $t-&gt;containsPoint($T-&gt;a);  
   push @p, $T-&gt;b if $t-&gt;containsPoint($T-&gt;b);  
   push @p, $T-&gt;c if $t-&gt;containsPoint($T-&gt;c);
   
   push @p, $t-&gt;lab-&gt;intersect($T-&gt;lab) if $t-&gt;lab-&gt;crossOver($T-&gt;lab); 
   push @p, $t-&gt;lab-&gt;intersect($T-&gt;lac) if $t-&gt;lab-&gt;crossOver($T-&gt;lac); 
   push @p, $t-&gt;lab-&gt;intersect($T-&gt;lbc) if $t-&gt;lab-&gt;crossOver($T-&gt;lbc); 
   push @p, $t-&gt;lac-&gt;intersect($T-&gt;lab) if $t-&gt;lac-&gt;crossOver($T-&gt;lab); 
   push @p, $t-&gt;lac-&gt;intersect($T-&gt;lac) if $t-&gt;lac-&gt;crossOver($T-&gt;lac); 
   push @p, $t-&gt;lac-&gt;intersect($T-&gt;lbc) if $t-&gt;lac-&gt;crossOver($T-&gt;lbc);
   push @p, $t-&gt;lbc-&gt;intersect($T-&gt;lab) if $t-&gt;lbc-&gt;crossOver($T-&gt;lab); 
   push @p, $t-&gt;lbc-&gt;intersect($T-&gt;lac) if $t-&gt;lbc-&gt;crossOver($T-&gt;lac); 
   push @p, $t-&gt;lbc-&gt;intersect($T-&gt;lbc) if $t-&gt;lbc-&gt;crossOver($T-&gt;lbc);
 
 # Remove duplicate points caused by splitting the vertices - inefficient and unreliable
   my %p;
   $p{&quot;$_&quot;}=$_ for(@p);
   values(%p); 
  }</pre>
<p>
</p>
<h3><a name="ring">ring</a></h3>
<p>Ring of points formed by overlaying triangle t and T</p>
<pre>
 
 sub ring($$)
  {my ($t, $T) = @_; 
   check(@_) if debug; # Triangles
 
   my @p = $t-&gt;pointsInCommon($T);
 # scalar(@p) == 1 and warn &quot;Only one point in common&quot;;
 # scalar(@p) == 2 and warn &quot;Only two points in common&quot;;
   return () unless scalar(@p) &gt; 2;
 
 # Find center
   my $c = vector2(0,0);
   $c += $_ for(@p);
   $c /= scalar(@p);
 
 # Split by y coord   
   my (@yp, @yn);
   for my $p(0..@p-1)
    {return () if ($p[$p]-$c)-&gt;length &lt; $accuracy;
     if (($p[$p]-$c)-&gt;y &gt;= 0)
      {push @yp, $p;
      }
     else
      {push @yn, $p;
      }
    }
 
   @yp = sort {($p[$a]-$c)-&gt;norm-&gt;x &lt;=&gt; ($p[$b]-$c)-&gt;norm-&gt;x} @yp;
   @yn = sort {($p[$b]-$c)-&gt;norm-&gt;x &lt;=&gt; ($p[$a]-$c)-&gt;norm-&gt;x} @yn;
 
   my @a;
   push @a, $p[$_] for(@yp);
   push @a, $p[$_] for(@yn);
   @a;
  }</pre>
<p>
</p>
<h3><a name="convertplanetospace">convertPlaneToSpace</a></h3>
<p>Convert plane to space coordinates</p>
<pre>
 
 sub convertPlaneToSpace($$)
  {my ($t, $p) = @_;                               
            check(@_[0..0]) if debug; # Triangle  
   vector2Check(@_[1..1]) if debug; # Vector in plane
    
   $t-&gt;a + ($p-&gt;x * $t-&gt;ab) + ($p-&gt;y * $t-&gt;ac);
  }</pre>
<p>
</p>
<h3><a name="split">split</a></h3>
<p>Split a triangle into 4 sub triangles unless the sub triangles would
be too small</p>
<pre>
 
 sub split($$)
  {my ($t) = check(@_[0..0]); # Triangles 
   my ($s) =      (@_[1..1]); # Minimum size 
 
   return () unless
     $t-&gt;ab-&gt;length &gt; $s and
     $t-&gt;ac-&gt;length &gt; $s and
     $t-&gt;bc-&gt;length &gt; $s;
 
    (new($t-&gt;a, ($t-&gt;a+$t-&gt;b)/2, ($t-&gt;a+$t-&gt;c)/2),
     new($t-&gt;b, ($t-&gt;b+$t-&gt;a)/2, ($t-&gt;b+$t-&gt;c)/2),
     new($t-&gt;c, ($t-&gt;c+$t-&gt;a)/2, ($t-&gt;c+$t-&gt;b)/2),
     new(($t-&gt;a+$t-&gt;b)/2, ($t-&gt;a+$t-&gt;b)/2, ($t-&gt;b+$t-&gt;c)/2)
    )
  }</pre>
<p>
</p>
<h3><a name="equals">equals</a></h3>
<p>Compare two triangles for equality</p>
<pre>
 
 sub equals($$)
  {my ($a, $b) = check(@_); # Triangles
   my ($aa, $ab, $ac) = ($a-&gt;a, $a-&gt;b, $a-&gt;c);
   my ($ba, $bb, $bc) = ($b-&gt;a, $b-&gt;b, $b-&gt;c);
   my  $d             = $accuracy;  
 
   return 1 if 
 abs(($aa-$ba)-&gt;length) &lt; $d and abs(($ab-$bb)-&gt;length) &lt; $d and abs(($ac-$bc)-&gt;length) &lt; $d or
 abs(($aa-$ba)-&gt;length) &lt; $d and abs(($ab-$bc)-&gt;length) &lt; $d and abs(($ac-$bb)-&gt;length) &lt; $d or
 abs(($aa-$bb)-&gt;length) &lt; $d and abs(($ab-$bc)-&gt;length) &lt; $d and abs(($ac-$ba)-&gt;length) &lt; $d or
 abs(($aa-$bb)-&gt;length) &lt; $d and abs(($ab-$ba)-&gt;length) &lt; $d and abs(($ac-$bc)-&gt;length) &lt; $d or
 abs(($aa-$bc)-&gt;length) &lt; $d and abs(($ab-$ba)-&gt;length) &lt; $d and abs(($ac-$bb)-&gt;length) &lt; $d or
 abs(($aa-$bc)-&gt;length) &lt; $d and abs(($ab-$bb)-&gt;length) &lt; $d and abs(($ac-$ba)-&gt;length) &lt; $d;  
   0;
  }</pre>
<p>
</p>
<h3><a name="operators">Operators</a></h3>
<p>Operator overloads</p>
<pre>
 
 use overload
  '+',       =&gt; \&amp;add3,      # Add a vector
  '-',       =&gt; \&amp;sub3,      # Subtract a vector
  '*',       =&gt; \&amp;multiply3, # Multiply by a scalar
  '/',       =&gt; \&amp;divide3,   # Divide by a scalar
  '=='       =&gt; \&amp;equals3,   # Equals
  '&quot;&quot;'       =&gt; \&amp;print3,    # Print
  'fallback' =&gt; FALSE;</pre>
<p>
</p>
<h3><a name="add">add</a></h3>
<p>Add operator.</p>
<pre>
 
 sub add3
  {my ($a, $b, $c) = @_;
   return $a-&gt;add($b);
  }</pre>
<p>
</p>
<h3><a name="subtract">subtract</a></h3>
<p>Subtract operator.</p>
<pre>
 
 sub sub3
  {my ($a, $b, $c) = @_;
   return $a-&gt;subtract($b);
  }</pre>
<p>
</p>
<h3><a name="multiply">multiply</a></h3>
<p>Multiply operator.</p>
<pre>
 
 sub multiply3
  {my ($a, $b) = @_;
   return $a-&gt;multiply($b);
  }</pre>
<p>
</p>
<h3><a name="divide">divide</a></h3>
<p>Divide operator.</p>
<pre>
 
 sub divide3
  {my ($a, $b, $c) = @_;
   return $a-&gt;divideBy($b);
  }</pre>
<p>
</p>
<h3><a name="equals">equals</a></h3>
<p>Equals operator.</p>
<pre>
 
 sub equals3
  {my ($a, $b, $c) = @_;
   return $a-&gt;equals($b);
  }</pre>
<p>
</p>
<h3><a name="print">print</a></h3>
<p>Print a triangle</p>
<pre>
 
 sub print3
  {my ($a) = @_;
   return $a-&gt;print;
  }</pre>
<p>
</p>
<h2><a name="exports">Exports</a></h2>
<p>Export <a href="#triangle2">triangle2</a>, <a href="#new">new</a>, <a href="#newnnc">newnnc</a>, <a href="#newv">newV</a>, <a href="#newvnnc">newVnnc</a></p>
<pre>
 
 use Math::Zap::Exports qw(
   triangle2 ($$$)
   new       ($$$)
   newnnc    ($$$)
   newV      ($$$)
   newVnnc   ($$$)
  );
 
 #_ Triangle2 ___________________________________________________________
 # Package loaded successfully
 #_______________________________________________________________________
 
 1;</pre>
<p>
</p>
<h2><a name="credits">Credits</a></h2>
<p>
</p>
<h3><a name="author">Author</a></h3>
<p><a href="mailto:philiprbrenan@yahoo.com">philiprbrenan@yahoo.com</a></p>
<p>
</p>
<h3><a name="copyright">Copyright</a></h3>
<p><a href="mailto:philiprbrenan@yahoo.com,">philiprbrenan@yahoo.com,</a> 2004</p>
<p>
</p>
<h3><a name="license">License</a></h3>
<p>Perl License.</p>

</body>

</html>
